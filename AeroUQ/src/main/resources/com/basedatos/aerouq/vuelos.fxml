<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.effect.DropShadow?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.paint.Color?>

<VBox prefHeight="600.0" prefWidth="800.0" spacing="15" style="-fx-background-color: linear-gradient(to bottom, #e6f5e9, #d4ebd7);" xmlns="http://javafx.com/javafx/20" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.basedatos.aerouq.controller.VuelosController">
    <padding>
        <Insets top="20" right="20" bottom="20" left="20"/>
    </padding>

    <!-- Título -->
    <HBox alignment="CENTER" style="-fx-background-color: #2e8b57; -fx-background-radius: 10;">
        <padding>
            <Insets top="10" bottom="10" left="15" right="15"/>
        </padding>
        <Label text="✈️ Gestión de Vuelos" style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: white;">
            <effect>
                <DropShadow>
                    <color>
                        <Color opacity="0.3"/>
                    </color>
                </DropShadow>
            </effect>
        </Label>
    </HBox>

    <!-- Barra de búsqueda -->
    <HBox alignment="CENTER_LEFT" spacing="10" style="-fx-background-color: white; -fx-background-radius: 10; -fx-padding: 10;">
        <Label text="Buscar vuelo:" style="-fx-font-weight: bold;"/>
        <TextField fx:id="txtBuscar" promptText="Ingrese ID o número de vuelo" HBox.hgrow="ALWAYS"/>
        <Button fx:id="btnBuscar" text="🔍 Buscar" onAction="#handleBuscarVuelo" style="-fx-background-color: #2e8b57; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 5;">
            <padding><Insets top="8" bottom="8" left="15" right="15"/></padding>
        </Button>
        <Button fx:id="btnLimpiarBusqueda" text="❌ Limpiar" onAction="#handleLimpiarBusqueda" style="-fx-background-color: #78a885; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 5;">
            <padding><Insets top="8" bottom="8" left="15" right="15"/></padding>
        </Button>
    </HBox>

    <!-- Panel de entrada de datos -->
    <GridPane hgap="10" vgap="10" style="-fx-background-color: #ffffff; -fx-background-radius: 10; -fx-padding: 15;">
        <columnConstraints>
            <ColumnConstraints percentWidth="20"/>
            <ColumnConstraints percentWidth="30"/>
            <ColumnConstraints percentWidth="20"/>
            <ColumnConstraints percentWidth="30"/>
        </columnConstraints>

        <Label text="Número de Vuelo:" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
        <TextField fx:id="txtNumeroVuelo" promptText="Ej: AV123" GridPane.rowIndex="0" GridPane.columnIndex="1"/>

        <Label text="ID Aerolínea:" GridPane.rowIndex="0" GridPane.columnIndex="2"/>
        <TextField fx:id="txtIdAerolinea" promptText="Ej: 10" GridPane.rowIndex="0" GridPane.columnIndex="3"/>

        <Label text="Origen:" GridPane.rowIndex="1" GridPane.columnIndex="0"/>
        <TextField fx:id="txtOrigen" promptText="Ej: Bogotá" GridPane.rowIndex="1" GridPane.columnIndex="1"/>

        <Label text="Destino:" GridPane.rowIndex="1" GridPane.columnIndex="2"/>
        <TextField fx:id="txtDestino" promptText="Ej: Medellín" GridPane.rowIndex="1" GridPane.columnIndex="3"/>

        <Label text="Fecha/Hora Salida:" GridPane.rowIndex="2" GridPane.columnIndex="0"/>
        <TextField fx:id="txtFechaSalida" promptText="YYYY-MM-DD HH:MM" GridPane.rowIndex="2" GridPane.columnIndex="1"/>

        <Label text="Fecha/Hora Llegada:" GridPane.rowIndex="2" GridPane.columnIndex="2"/>
        <TextField fx:id="txtFechaLlegada" promptText="YYYY-MM-DD HH:MM" GridPane.rowIndex="2" GridPane.columnIndex="3"/>

        <Label text="Estado del Vuelo:" GridPane.rowIndex="3" GridPane.columnIndex="0"/>
        <TextField fx:id="txtEstadoVuelo" promptText="Ej: En vuelo, Retrasado" GridPane.rowIndex="3" GridPane.columnIndex="1"/>

        <Label text="ID Puerta:" GridPane.rowIndex="3" GridPane.columnIndex="2"/>
        <TextField fx:id="txtIdPuerta" promptText="Ej: 5" GridPane.rowIndex="3" GridPane.columnIndex="3"/>
    </GridPane>

    <!-- Panel de botones -->
    <HBox alignment="CENTER" spacing="20" style="-fx-background-color: white; -fx-background-radius: 10; -fx-padding: 15;">
        <Button fx:id="btnAdd" text="Agregar Vuelo ➕" onAction="#handleAddVuelo" style="-fx-background-color: #3cb371; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 5;">
            <padding><Insets top="10" bottom="10" left="20" right="20"/></padding>
        </Button>
        <Button fx:id="btnEdit" text="Editar Vuelo ✏" onAction="#handleEditVuelo" style="-fx-background-color: #20b2aa; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 5;">
            <padding><Insets top="10" bottom="10" left="20" right="20"/></padding>
        </Button>
        <Button fx:id="btnDelete" text="Eliminar Vuelo ➖" onAction="#handleDeleteVuelo" style="-fx-background-color: #db5a42; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 5;">
            <padding><Insets top="10" bottom="10" left="20" right="20"/></padding>
        </Button>
    </HBox>

    <!-- Tabla de vuelos -->
    <TableView fx:id="tableVuelos" VBox.vgrow="ALWAYS" style="-fx-background-radius: 10; -fx-border-radius: 10; -fx-border-color: #a3d2a3;">
        <columns>
            <TableColumn fx:id="colIdVuelo" prefWidth="80" style="-fx-alignment: CENTER;" text="ID Vuelo" />
            <TableColumn fx:id="colNumeroVuelo" prefWidth="120" text="Número de Vuelo" />
            <TableColumn fx:id="colIdAerolinea" prefWidth="100" style="-fx-alignment: CENTER;" text="ID Aerolínea" />
            <TableColumn fx:id="colOrigen" prefWidth="130" text="Origen" />
            <TableColumn fx:id="colDestino" prefWidth="130" text="Destino" />
            <TableColumn fx:id="colFechaSalida" prefWidth="150" text="Fecha/Hora Salida" />
            <TableColumn fx:id="colFechaLlegada" prefWidth="150" text="Fecha/Hora Llegada" />
            <TableColumn fx:id="colEstadoVuelo" prefWidth="120" text="Estado del Vuelo" />
            <TableColumn fx:id="colIdPuerta" prefWidth="80" style="-fx-alignment: CENTER;" text="ID Puerta" />
        </columns>
        <columnResizePolicy>
            <TableView fx:constant="UNCONSTRAINED_RESIZE_POLICY" />
        </columnResizePolicy>
        <effect>
            <DropShadow>
                <color>
                    <Color opacity="0.2"/>
                </color>
            </DropShadow>
        </effect>
    </TableView>
</VBox>
